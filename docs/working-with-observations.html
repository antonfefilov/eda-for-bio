<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>APS 135: Introduction to Exploratory Data Analysis with R</title>
  <meta name="description" content="Course book for Introduction to Exploratory Data Analysis with R (APS 135) in the Department of Animal and Plant Sciences, University of Sheffield.">
  <meta name="generator" content="bookdown 0.5 and GitBook 2.6.7">

  <meta property="og:title" content="APS 135: Introduction to Exploratory Data Analysis with R" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Course book for Introduction to Exploratory Data Analysis with R (APS 135) in the Department of Animal and Plant Sciences, University of Sheffield." />
  <meta name="github-repo" content="dzchilds/eda-for-bio" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="APS 135: Introduction to Exploratory Data Analysis with R" />
  
  <meta name="twitter:description" content="Course book for Introduction to Exploratory Data Analysis with R (APS 135) in the Department of Animal and Plant Sciences, University of Sheffield." />
  

<meta name="author" content="Dylan Z. Childs">


<meta name="date" content="2018-02-07">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="working-with-variables.html">
<link rel="next" href="helper-functions.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />







<style type="text/css">

.action, .warning, .info, .speed {
  padding: 1em 1em 1em 4em;
  margin-bottom: 10px;
  background: #f5f5f5 5px center/3em no-repeat;
}
.action {
  background-image: url("./images/action.png");
}
.warning {
  background-image: url("./images/warning.png");
}
.info {
  background-image: url("./images/info.png");
}
.speed {
  background-image: url("./images/speed.png");
}


</style>


<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">APS 135 (R course)</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Information and overview</a><ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#aims"><i class="fa fa-check"></i>Aims</a><ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#topics"><i class="fa fa-check"></i>Topics</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#how-to-use-the-book"><i class="fa fa-check"></i>How to use the book</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#getting-help"><i class="fa fa-check"></i>Getting help</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#updates"><i class="fa fa-check"></i>Updates</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="get-up-and-running-with-r-and-rstudio.html"><a href="get-up-and-running-with-r-and-rstudio.html"><i class="fa fa-check"></i>Get up and running with R and RStudio</a><ul>
<li class="chapter" data-level="" data-path="get-up-and-running-with-r-and-rstudio.html"><a href="get-up-and-running-with-r-and-rstudio.html#what-is-r"><i class="fa fa-check"></i>What is R?</a><ul>
<li class="chapter" data-level="" data-path="get-up-and-running-with-r-and-rstudio.html"><a href="get-up-and-running-with-r-and-rstudio.html#getting-and-installing-r"><i class="fa fa-check"></i>Getting and installing R</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="get-up-and-running-with-r-and-rstudio.html"><a href="get-up-and-running-with-r-and-rstudio.html#what-is-rstudio-and-why-use-it"><i class="fa fa-check"></i>What is RStudio (and why use it)?</a><ul>
<li class="chapter" data-level="" data-path="get-up-and-running-with-r-and-rstudio.html"><a href="get-up-and-running-with-r-and-rstudio.html#getting-and-installing-rstudio"><i class="fa fa-check"></i>Getting and installing RStudio</a></li>
<li class="chapter" data-level="" data-path="get-up-and-running-with-r-and-rstudio.html"><a href="get-up-and-running-with-r-and-rstudio.html#the-anatomy-of-rstudio"><i class="fa fa-check"></i>The anatomy of RStudio</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="get-up-and-running-with-r-and-rstudio.html"><a href="get-up-and-running-with-r-and-rstudio.html#working-at-the-console"><i class="fa fa-check"></i>Working at the Console</a></li>
</ul></li>
<li class="part"><span><b>I Introduction to R</b></span></li>
<li class="chapter" data-level="1" data-path="a-quick-introduction-to-r.html"><a href="a-quick-introduction-to-r.html"><i class="fa fa-check"></i><b>1</b> A quick introduction to R</a><ul>
<li class="chapter" data-level="1.1" data-path="a-quick-introduction-to-r.html"><a href="a-quick-introduction-to-r.html#r-calculator"><i class="fa fa-check"></i><b>1.1</b> Using R as a big calculator</a><ul>
<li class="chapter" data-level="1.1.1" data-path="a-quick-introduction-to-r.html"><a href="a-quick-introduction-to-r.html#basic-arithmetic"><i class="fa fa-check"></i><b>1.1.1</b> Basic arithmetic</a></li>
<li class="chapter" data-level="1.1.2" data-path="a-quick-introduction-to-r.html"><a href="a-quick-introduction-to-r.html#problematic-calculations"><i class="fa fa-check"></i><b>1.1.2</b> Problematic calculations</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="a-quick-introduction-to-r.html"><a href="a-quick-introduction-to-r.html#assignment"><i class="fa fa-check"></i><b>1.2</b> Storing and reusing results</a></li>
<li class="chapter" data-level="1.3" data-path="a-quick-introduction-to-r.html"><a href="a-quick-introduction-to-r.html#how-does-assignment-work"><i class="fa fa-check"></i><b>1.3</b> How does assignment work?</a></li>
<li class="chapter" data-level="1.4" data-path="a-quick-introduction-to-r.html"><a href="a-quick-introduction-to-r.html#global-environment"><i class="fa fa-check"></i><b>1.4</b> Global environment</a></li>
<li class="chapter" data-level="1.5" data-path="a-quick-introduction-to-r.html"><a href="a-quick-introduction-to-r.html#naming-rules-and-conventions"><i class="fa fa-check"></i><b>1.5</b> Naming rules and conventions</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="scripts.html"><a href="scripts.html"><i class="fa fa-check"></i><b>2</b> Building scripts</a><ul>
<li class="chapter" data-level="2.1" data-path="scripts.html"><a href="scripts.html#introduction"><i class="fa fa-check"></i><b>2.1</b> Introduction</a></li>
<li class="chapter" data-level="2.2" data-path="scripts.html"><a href="scripts.html#writing-scripts-in-rstudio"><i class="fa fa-check"></i><b>2.2</b> Writing scripts in RStudio</a></li>
<li class="chapter" data-level="2.3" data-path="scripts.html"><a href="scripts.html#running-scripts-in-rstudio"><i class="fa fa-check"></i><b>2.3</b> Running scripts in RStudio</a></li>
<li class="chapter" data-level="2.4" data-path="scripts.html"><a href="scripts.html#spotting-problems"><i class="fa fa-check"></i><b>2.4</b> Spotting problems</a><ul>
<li class="chapter" data-level="2.4.1" data-path="scripts.html"><a href="scripts.html#the-dreaded"><i class="fa fa-check"></i><b>2.4.1</b> The dreaded <code>+</code></a></li>
<li class="chapter" data-level="2.4.2" data-path="scripts.html"><a href="scripts.html#errors"><i class="fa fa-check"></i><b>2.4.2</b> Errors</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="using-functions.html"><a href="using-functions.html"><i class="fa fa-check"></i><b>3</b> Using functions</a><ul>
<li class="chapter" data-level="3.1" data-path="using-functions.html"><a href="using-functions.html#intro-functions"><i class="fa fa-check"></i><b>3.1</b> Introduction</a></li>
<li class="chapter" data-level="3.2" data-path="using-functions.html"><a href="using-functions.html#functions-and-arguments"><i class="fa fa-check"></i><b>3.2</b> Functions and arguments</a></li>
<li class="chapter" data-level="3.3" data-path="using-functions.html"><a href="using-functions.html#evaluating-arguments-and-returning-results"><i class="fa fa-check"></i><b>3.3</b> Evaluating arguments and returning results</a></li>
<li class="chapter" data-level="3.4" data-path="using-functions.html"><a href="using-functions.html#functions-do-not-have-side-effects"><i class="fa fa-check"></i><b>3.4</b> Functions do not have “side effects”</a></li>
<li class="chapter" data-level="3.5" data-path="using-functions.html"><a href="using-functions.html#combining-functions"><i class="fa fa-check"></i><b>3.5</b> Combining functions</a></li>
<li class="chapter" data-level="3.6" data-path="using-functions.html"><a href="using-functions.html#function-arguments"><i class="fa fa-check"></i><b>3.6</b> Specifying function arguments</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="numeric-vectors.html"><a href="numeric-vectors.html"><i class="fa fa-check"></i><b>4</b> Numeric vectors</a><ul>
<li class="chapter" data-level="4.1" data-path="numeric-vectors.html"><a href="numeric-vectors.html#introduction-1"><i class="fa fa-check"></i><b>4.1</b> Introduction</a></li>
<li class="chapter" data-level="4.2" data-path="numeric-vectors.html"><a href="numeric-vectors.html#atomic-vectors"><i class="fa fa-check"></i><b>4.2</b> Atomic vectors</a></li>
<li class="chapter" data-level="4.3" data-path="numeric-vectors.html"><a href="numeric-vectors.html#intro-vectors"><i class="fa fa-check"></i><b>4.3</b> Numeric vectors</a></li>
<li class="chapter" data-level="4.4" data-path="numeric-vectors.html"><a href="numeric-vectors.html#constructing-numeric-vectors"><i class="fa fa-check"></i><b>4.4</b> Constructing numeric vectors</a></li>
<li class="chapter" data-level="4.5" data-path="numeric-vectors.html"><a href="numeric-vectors.html#named-vectors"><i class="fa fa-check"></i><b>4.5</b> Named vectors</a></li>
<li class="chapter" data-level="4.6" data-path="numeric-vectors.html"><a href="numeric-vectors.html#generating-sequences-of-numbers"><i class="fa fa-check"></i><b>4.6</b> Generating sequences of numbers</a><ul>
<li class="chapter" data-level="4.6.1" data-path="numeric-vectors.html"><a href="numeric-vectors.html#generating-sequences-of-numbers-1"><i class="fa fa-check"></i><b>4.6.1</b> Generating sequences of numbers</a></li>
<li class="chapter" data-level="4.6.2" data-path="numeric-vectors.html"><a href="numeric-vectors.html#generating-repeated-sequences-of-numbers"><i class="fa fa-check"></i><b>4.6.2</b> Generating repeated sequences of numbers</a></li>
</ul></li>
<li class="chapter" data-level="4.7" data-path="numeric-vectors.html"><a href="numeric-vectors.html#vectorised-operations"><i class="fa fa-check"></i><b>4.7</b> Vectorised operations</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="other-kinds-of-vectors.html"><a href="other-kinds-of-vectors.html"><i class="fa fa-check"></i><b>5</b> Other kinds of vectors</a><ul>
<li class="chapter" data-level="5.1" data-path="other-kinds-of-vectors.html"><a href="other-kinds-of-vectors.html#other-vectors"><i class="fa fa-check"></i><b>5.1</b> Introduction</a></li>
<li class="chapter" data-level="5.2" data-path="other-kinds-of-vectors.html"><a href="other-kinds-of-vectors.html#character-vectors"><i class="fa fa-check"></i><b>5.2</b> Character vectors</a></li>
<li class="chapter" data-level="5.3" data-path="other-kinds-of-vectors.html"><a href="other-kinds-of-vectors.html#logical-vectors"><i class="fa fa-check"></i><b>5.3</b> Logical vectors</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="extracting-subsets-of-vectors.html"><a href="extracting-subsets-of-vectors.html"><i class="fa fa-check"></i><b>6</b> Extracting subsets of vectors</a><ul>
<li class="chapter" data-level="6.1" data-path="other-kinds-of-vectors.html"><a href="other-kinds-of-vectors.html#other-vectors"><i class="fa fa-check"></i><b>6.1</b> Introduction</a></li>
<li class="chapter" data-level="6.2" data-path="extracting-subsets-of-vectors.html"><a href="extracting-subsets-of-vectors.html#subsetting-by-position"><i class="fa fa-check"></i><b>6.2</b> Subsetting by position</a></li>
<li class="chapter" data-level="6.3" data-path="extracting-subsets-of-vectors.html"><a href="extracting-subsets-of-vectors.html#subsetting-with-logical-operators"><i class="fa fa-check"></i><b>6.3</b> Subsetting with logical operators</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="getting-help-1.html"><a href="getting-help-1.html"><i class="fa fa-check"></i><b>7</b> Getting help</a><ul>
<li class="chapter" data-level="7.1" data-path="getting-help-1.html"><a href="getting-help-1.html#console-help"><i class="fa fa-check"></i><b>7.1</b> Introduction</a></li>
<li class="chapter" data-level="7.2" data-path="getting-help-1.html"><a href="getting-help-1.html#browsing-the-help-system"><i class="fa fa-check"></i><b>7.2</b> Browsing the help system</a></li>
<li class="chapter" data-level="7.3" data-path="getting-help-1.html"><a href="getting-help-1.html#searching-for-help-files"><i class="fa fa-check"></i><b>7.3</b> Searching for help files</a></li>
<li class="chapter" data-level="7.4" data-path="getting-help-1.html"><a href="getting-help-1.html#nav-help"><i class="fa fa-check"></i><b>7.4</b> Navigating help files</a></li>
<li class="chapter" data-level="7.5" data-path="getting-help-1.html"><a href="getting-help-1.html#vignettes"><i class="fa fa-check"></i><b>7.5</b> Vignettes and demos</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="packages.html"><a href="packages.html"><i class="fa fa-check"></i><b>8</b> Packages</a><ul>
<li class="chapter" data-level="8.1" data-path="packages.html"><a href="packages.html#package-system"><i class="fa fa-check"></i><b>8.1</b> The R package system</a></li>
<li class="chapter" data-level="8.2" data-path="packages.html"><a href="packages.html#task-views"><i class="fa fa-check"></i><b>8.2</b> Task views</a></li>
<li class="chapter" data-level="8.3" data-path="packages.html"><a href="packages.html#use-packages"><i class="fa fa-check"></i><b>8.3</b> Using packages</a><ul>
<li class="chapter" data-level="8.3.1" data-path="packages.html"><a href="packages.html#viewing-installed-packages"><i class="fa fa-check"></i><b>8.3.1</b> Viewing installed packages</a></li>
<li class="chapter" data-level="8.3.2" data-path="packages.html"><a href="packages.html#installing-packages"><i class="fa fa-check"></i><b>8.3.2</b> Installing packages</a></li>
<li class="chapter" data-level="8.3.3" data-path="packages.html"><a href="packages.html#loading-and-attaching-packages"><i class="fa fa-check"></i><b>8.3.3</b> Loading and attaching packages</a></li>
<li class="chapter" data-level="8.3.4" data-path="packages.html"><a href="packages.html#an-analogy"><i class="fa fa-check"></i><b>8.3.4</b> An analogy</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>II Data Wrangling</b></span></li>
<li class="chapter" data-level="9" data-path="data-frames.html"><a href="data-frames.html"><i class="fa fa-check"></i><b>9</b> Data frames</a><ul>
<li class="chapter" data-level="9.1" data-path="data-frames.html"><a href="data-frames.html#introduction-2"><i class="fa fa-check"></i><b>9.1</b> Introduction</a></li>
<li class="chapter" data-level="9.2" data-path="data-frames.html"><a href="data-frames.html#data-frames-intro"><i class="fa fa-check"></i><b>9.2</b> Data frames</a></li>
<li class="chapter" data-level="9.3" data-path="data-frames.html"><a href="data-frames.html#exploring-data-frames"><i class="fa fa-check"></i><b>9.3</b> Exploring data frames</a></li>
<li class="chapter" data-level="9.4" data-path="data-frames.html"><a href="data-frames.html#extract-data"><i class="fa fa-check"></i><b>9.4</b> Extracting data from data frames</a><ul>
<li class="chapter" data-level="9.4.1" data-path="data-frames.html"><a href="data-frames.html#extracting-and-adding-a-single-variable"><i class="fa fa-check"></i><b>9.4.1</b> Extracting and adding a single variable</a></li>
<li class="chapter" data-level="9.4.2" data-path="data-frames.html"><a href="data-frames.html#adding-a-variable-to-a-data-frame"><i class="fa fa-check"></i><b>9.4.2</b> Adding a variable to a data frame</a></li>
<li class="chapter" data-level="9.4.3" data-path="data-frames.html"><a href="data-frames.html#subsetting-data-frames"><i class="fa fa-check"></i><b>9.4.3</b> Subsetting data frames</a></li>
</ul></li>
<li class="chapter" data-level="9.5" data-path="data-frames.html"><a href="data-frames.html#final-words"><i class="fa fa-check"></i><b>9.5</b> Final words</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="working-directories-and-data-files.html"><a href="working-directories-and-data-files.html"><i class="fa fa-check"></i><b>10</b> Working directories and data files</a><ul>
<li class="chapter" data-level="10.1" data-path="working-directories-and-data-files.html"><a href="working-directories-and-data-files.html#introduction-3"><i class="fa fa-check"></i><b>10.1</b> Introduction</a></li>
<li class="chapter" data-level="10.2" data-path="working-directories-and-data-files.html"><a href="working-directories-and-data-files.html#data-files-the-csv-format"><i class="fa fa-check"></i><b>10.2</b> Data files: the CSV format</a><ul>
<li class="chapter" data-level="10.2.1" data-path="working-directories-and-data-files.html"><a href="working-directories-and-data-files.html#exporting-csv-files-from-excel"><i class="fa fa-check"></i><b>10.2.1</b> Exporting CSV files from Excel</a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="working-directories-and-data-files.html"><a href="working-directories-and-data-files.html#the-working-directory"><i class="fa fa-check"></i><b>10.3</b> The working directory</a></li>
<li class="chapter" data-level="10.4" data-path="working-directories-and-data-files.html"><a href="working-directories-and-data-files.html#importing-data-with-read.csv"><i class="fa fa-check"></i><b>10.4</b> Importing data with <code>read.csv</code></a></li>
<li class="chapter" data-level="10.5" data-path="working-directories-and-data-files.html"><a href="working-directories-and-data-files.html#importing-data-with-rstudio-avoid-this"><i class="fa fa-check"></i><b>10.5</b> Importing data with RStudio (Avoid this!)</a></li>
<li class="chapter" data-level="10.6" data-path="working-directories-and-data-files.html"><a href="working-directories-and-data-files.html#package-data"><i class="fa fa-check"></i><b>10.6</b> Package data</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="dplyr-and-the-tidy-data-concept.html"><a href="dplyr-and-the-tidy-data-concept.html"><i class="fa fa-check"></i><b>11</b> <strong>dplyr</strong> and the tidy data concept</a><ul>
<li class="chapter" data-level="11.1" data-path="dplyr-and-the-tidy-data-concept.html"><a href="dplyr-and-the-tidy-data-concept.html#introduction-4"><i class="fa fa-check"></i><b>11.1</b> Introduction</a></li>
<li class="chapter" data-level="11.2" data-path="dplyr-and-the-tidy-data-concept.html"><a href="dplyr-and-the-tidy-data-concept.html#why-dplyr"><i class="fa fa-check"></i><b>11.2</b> The value of <strong>dplyr</strong></a></li>
<li class="chapter" data-level="11.3" data-path="dplyr-and-the-tidy-data-concept.html"><a href="dplyr-and-the-tidy-data-concept.html#tidy-data"><i class="fa fa-check"></i><b>11.3</b> Tidy data</a></li>
<li class="chapter" data-level="11.4" data-path="dplyr-and-the-tidy-data-concept.html"><a href="dplyr-and-the-tidy-data-concept.html#more-dplyr"><i class="fa fa-check"></i><b>11.4</b> A quick look at <strong>dplyr</strong></a><ul>
<li class="chapter" data-level="11.4.1" data-path="dplyr-and-the-tidy-data-concept.html"><a href="dplyr-and-the-tidy-data-concept.html#tibble-tbl-objects"><i class="fa fa-check"></i><b>11.4.1</b> Tibble (<code>tbl</code>) objects</a></li>
<li class="chapter" data-level="11.4.2" data-path="dplyr-and-the-tidy-data-concept.html"><a href="dplyr-and-the-tidy-data-concept.html#the-glimpse-function"><i class="fa fa-check"></i><b>11.4.2</b> The <code>glimpse</code> function</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="12" data-path="working-with-variables.html"><a href="working-with-variables.html"><i class="fa fa-check"></i><b>12</b> Working with variables</a><ul>
<li class="chapter" data-level="12.1" data-path="working-with-variables.html"><a href="working-with-variables.html#introduction-5"><i class="fa fa-check"></i><b>12.1</b> Introduction</a><ul>
<li class="chapter" data-level="12.1.1" data-path="working-with-variables.html"><a href="working-with-variables.html#getting-ready"><i class="fa fa-check"></i><b>12.1.1</b> Getting ready</a></li>
</ul></li>
<li class="chapter" data-level="12.2" data-path="working-with-variables.html"><a href="working-with-variables.html#subset-variables-with-select"><i class="fa fa-check"></i><b>12.2</b> Subset variables with <code>select</code></a><ul>
<li class="chapter" data-level="12.2.1" data-path="working-with-variables.html"><a href="working-with-variables.html#renaming-variables-with-select-and-rename"><i class="fa fa-check"></i><b>12.2.1</b> Renaming variables with <code>select</code> and <code>rename</code></a></li>
</ul></li>
<li class="chapter" data-level="12.3" data-path="working-with-variables.html"><a href="working-with-variables.html#creating-variables-with-mutate"><i class="fa fa-check"></i><b>12.3</b> Creating variables with <code>mutate</code></a><ul>
<li class="chapter" data-level="12.3.1" data-path="working-with-variables.html"><a href="working-with-variables.html#transforming-and-dropping-variables"><i class="fa fa-check"></i><b>12.3.1</b> Transforming and dropping variables</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="13" data-path="working-with-observations.html"><a href="working-with-observations.html"><i class="fa fa-check"></i><b>13</b> Working with observations</a><ul>
<li class="chapter" data-level="13.1" data-path="working-with-observations.html"><a href="working-with-observations.html#introduction-6"><i class="fa fa-check"></i><b>13.1</b> Introduction</a><ul>
<li class="chapter" data-level="13.1.1" data-path="working-with-observations.html"><a href="working-with-observations.html#getting-ready-1"><i class="fa fa-check"></i><b>13.1.1</b> Getting ready</a></li>
</ul></li>
<li class="chapter" data-level="13.2" data-path="working-with-observations.html"><a href="working-with-observations.html#subset-observations-with-filter"><i class="fa fa-check"></i><b>13.2</b> Subset observations with <code>filter</code></a></li>
<li class="chapter" data-level="13.3" data-path="working-with-observations.html"><a href="working-with-observations.html#reording-observations-with-arrange"><i class="fa fa-check"></i><b>13.3</b> Reording observations with <code>arrange</code></a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="helper-functions.html"><a href="helper-functions.html"><i class="fa fa-check"></i><b>14</b> Helper functions</a><ul>
<li class="chapter" data-level="14.1" data-path="helper-functions.html"><a href="helper-functions.html#introduction-7"><i class="fa fa-check"></i><b>14.1</b> Introduction</a></li>
<li class="chapter" data-level="14.2" data-path="helper-functions.html"><a href="helper-functions.html#working-with-select"><i class="fa fa-check"></i><b>14.2</b> Working with <code>select</code></a></li>
<li class="chapter" data-level="14.3" data-path="helper-functions.html"><a href="helper-functions.html#working-with-mutate-and-transmute"><i class="fa fa-check"></i><b>14.3</b> Working with <code>mutate</code> and <code>transmute</code></a></li>
<li class="chapter" data-level="14.4" data-path="helper-functions.html"><a href="helper-functions.html#working-with-filter"><i class="fa fa-check"></i><b>14.4</b> Working with <code>filter</code></a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="grouping-and-summarising-data.html"><a href="grouping-and-summarising-data.html"><i class="fa fa-check"></i><b>15</b> Grouping and summarising data</a><ul>
<li class="chapter" data-level="15.0.1" data-path="grouping-and-summarising-data.html"><a href="grouping-and-summarising-data.html#getting-ready-2"><i class="fa fa-check"></i><b>15.0.1</b> Getting ready</a></li>
<li class="chapter" data-level="15.1" data-path="grouping-and-summarising-data.html"><a href="grouping-and-summarising-data.html#summarising-variables-with-summarise"><i class="fa fa-check"></i><b>15.1</b> Summarising variables with <code>summarise</code></a><ul>
<li class="chapter" data-level="15.1.1" data-path="grouping-and-summarising-data.html"><a href="grouping-and-summarising-data.html#helper-functions-1"><i class="fa fa-check"></i><b>15.1.1</b> Helper functions</a></li>
</ul></li>
<li class="chapter" data-level="15.2" data-path="grouping-and-summarising-data.html"><a href="grouping-and-summarising-data.html#grouped-operations-using-group_by"><i class="fa fa-check"></i><b>15.2</b> Grouped operations using <code>group_by</code></a><ul>
<li class="chapter" data-level="15.2.1" data-path="grouping-and-summarising-data.html"><a href="grouping-and-summarising-data.html#more-than-one-grouping-variable"><i class="fa fa-check"></i><b>15.2.1</b> More than one grouping variable</a></li>
<li class="chapter" data-level="15.2.2" data-path="grouping-and-summarising-data.html"><a href="grouping-and-summarising-data.html#using-group_by-with-other-verbs"><i class="fa fa-check"></i><b>15.2.2</b> Using <code>group_by</code> with other verbs</a></li>
</ul></li>
<li class="chapter" data-level="15.3" data-path="grouping-and-summarising-data.html"><a href="grouping-and-summarising-data.html#removing-grouping-information"><i class="fa fa-check"></i><b>15.3</b> Removing grouping information</a></li>
</ul></li>
<li class="chapter" data-level="16" data-path="building-pipelines.html"><a href="building-pipelines.html"><i class="fa fa-check"></i><b>16</b> Building pipelines</a><ul>
<li class="chapter" data-level="16.1" data-path="building-pipelines.html"><a href="building-pipelines.html#why-do-we-need-pipes"><i class="fa fa-check"></i><b>16.1</b> Why do we need ‘pipes’?</a></li>
</ul></li>
<li class="part"><span><b>III Exporing Data</b></span></li>
<li class="chapter" data-level="17" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html"><i class="fa fa-check"></i><b>17</b> Exploratory data analysis</a><ul>
<li class="chapter" data-level="17.1" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#introduction-8"><i class="fa fa-check"></i><b>17.1</b> Introduction</a></li>
<li class="chapter" data-level="17.2" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#variables"><i class="fa fa-check"></i><b>17.2</b> Statistical variables and data</a><ul>
<li class="chapter" data-level="17.2.1" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#numeric-vs.categorical-variables"><i class="fa fa-check"></i><b>17.2.1</b> Numeric vs. categorical variables</a></li>
<li class="chapter" data-level="17.2.2" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#ratio-vs.interval-scales"><i class="fa fa-check"></i><b>17.2.2</b> Ratio vs. interval scales</a></li>
</ul></li>
<li class="chapter" data-level="17.3" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#populations-samples"><i class="fa fa-check"></i><b>17.3</b> Populations, samples and distributions</a></li>
<li class="chapter" data-level="17.4" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#relationships"><i class="fa fa-check"></i><b>17.4</b> Relationships</a></li>
</ul></li>
<li class="chapter" data-level="18" data-path="introduction-to-ggplot2.html"><a href="introduction-to-ggplot2.html"><i class="fa fa-check"></i><b>18</b> Introduction to <strong>ggplot2</strong></a><ul>
<li class="chapter" data-level="18.1" data-path="introduction-to-ggplot2.html"><a href="introduction-to-ggplot2.html#anatomy"><i class="fa fa-check"></i><b>18.1</b> The anatomy of ggplot2</a><ul>
<li class="chapter" data-level="18.1.1" data-path="introduction-to-ggplot2.html"><a href="introduction-to-ggplot2.html#layers"><i class="fa fa-check"></i><b>18.1.1</b> Layers</a></li>
<li class="chapter" data-level="18.1.2" data-path="introduction-to-ggplot2.html"><a href="introduction-to-ggplot2.html#scales"><i class="fa fa-check"></i><b>18.1.2</b> Scales</a></li>
<li class="chapter" data-level="18.1.3" data-path="introduction-to-ggplot2.html"><a href="introduction-to-ggplot2.html#coordinate-system"><i class="fa fa-check"></i><b>18.1.3</b> Coordinate system</a></li>
<li class="chapter" data-level="18.1.4" data-path="introduction-to-ggplot2.html"><a href="introduction-to-ggplot2.html#faceting"><i class="fa fa-check"></i><b>18.1.4</b> Faceting</a></li>
</ul></li>
<li class="chapter" data-level="18.2" data-path="introduction-to-ggplot2.html"><a href="introduction-to-ggplot2.html#quick"><i class="fa fa-check"></i><b>18.2</b> A quick introduction to ggplot2</a><ul>
<li class="chapter" data-level="18.2.1" data-path="introduction-to-ggplot2.html"><a href="introduction-to-ggplot2.html#making-a-start"><i class="fa fa-check"></i><b>18.2.1</b> Making a start</a></li>
<li class="chapter" data-level="18.2.2" data-path="introduction-to-ggplot2.html"><a href="introduction-to-ggplot2.html#the-standard-way-of-using-ggplot2"><i class="fa fa-check"></i><b>18.2.2</b> The standard way of using <strong>ggplot2</strong></a></li>
</ul></li>
<li class="chapter" data-level="18.3" data-path="introduction-to-ggplot2.html"><a href="introduction-to-ggplot2.html#increasing-the-information-density"><i class="fa fa-check"></i><b>18.3</b> Increasing the information density</a><ul>
<li class="chapter" data-level="18.3.1" data-path="introduction-to-ggplot2.html"><a href="introduction-to-ggplot2.html#using-additional-aesthetics"><i class="fa fa-check"></i><b>18.3.1</b> Using additional aesthetics</a></li>
<li class="chapter" data-level="18.3.2" data-path="introduction-to-ggplot2.html"><a href="introduction-to-ggplot2.html#using-facets"><i class="fa fa-check"></i><b>18.3.2</b> Using facets</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="19" data-path="customising-plots.html"><a href="customising-plots.html"><i class="fa fa-check"></i><b>19</b> Customising plots</a><ul>
<li class="chapter" data-level="19.1" data-path="customising-plots.html"><a href="customising-plots.html#working-with-layer-specific-geom-properties"><i class="fa fa-check"></i><b>19.1</b> Working with layer specific geom properties</a><ul>
<li class="chapter" data-level="19.1.1" data-path="customising-plots.html"><a href="customising-plots.html#the-relationship-between-aesthetics-and-geom-properties."><i class="fa fa-check"></i><b>19.1.1</b> The relationship between aesthetics and geom properties.</a></li>
</ul></li>
<li class="chapter" data-level="19.2" data-path="customising-plots.html"><a href="customising-plots.html#working-with-layer-specific-position-adjustments"><i class="fa fa-check"></i><b>19.2</b> Working with layer specific position adjustments</a></li>
<li class="chapter" data-level="19.3" data-path="customising-plots.html"><a href="customising-plots.html#working-with-plot-specific-scales"><i class="fa fa-check"></i><b>19.3</b> Working with plot specific scales</a></li>
<li class="chapter" data-level="19.4" data-path="customising-plots.html"><a href="customising-plots.html#adding-titles-and-labels"><i class="fa fa-check"></i><b>19.4</b> Adding titles and labels</a></li>
<li class="chapter" data-level="19.5" data-path="customising-plots.html"><a href="customising-plots.html#themes"><i class="fa fa-check"></i><b>19.5</b> Themes</a></li>
</ul></li>
<li class="chapter" data-level="20" data-path="exploring-one-numeric-variable.html"><a href="exploring-one-numeric-variable.html"><i class="fa fa-check"></i><b>20</b> Exploring one numeric variable</a><ul>
<li class="chapter" data-level="20.1" data-path="exploring-one-numeric-variable.html"><a href="exploring-one-numeric-variable.html#explore-numeric"><i class="fa fa-check"></i><b>20.1</b> Understanding numerical variables</a></li>
<li class="chapter" data-level="20.2" data-path="exploring-one-numeric-variable.html"><a href="exploring-one-numeric-variable.html#graphical-summaries"><i class="fa fa-check"></i><b>20.2</b> Graphical summaries</a></li>
<li class="chapter" data-level="20.3" data-path="exploring-one-numeric-variable.html"><a href="exploring-one-numeric-variable.html#descriptive-statistics"><i class="fa fa-check"></i><b>20.3</b> Descriptive statistics</a><ul>
<li class="chapter" data-level="20.3.1" data-path="exploring-one-numeric-variable.html"><a href="exploring-one-numeric-variable.html#measuring-central-tendency"><i class="fa fa-check"></i><b>20.3.1</b> Measuring central tendency</a></li>
<li class="chapter" data-level="20.3.2" data-path="exploring-one-numeric-variable.html"><a href="exploring-one-numeric-variable.html#measuring-dispersion"><i class="fa fa-check"></i><b>20.3.2</b> Measuring dispersion</a></li>
<li class="chapter" data-level="20.3.3" data-path="exploring-one-numeric-variable.html"><a href="exploring-one-numeric-variable.html#skewness"><i class="fa fa-check"></i><b>20.3.3</b> Skewness</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="21" data-path="exploring-categorical-variables.html"><a href="exploring-categorical-variables.html"><i class="fa fa-check"></i><b>21</b> Exploring categorical variables</a><ul>
<li class="chapter" data-level="21.1" data-path="exploring-categorical-variables.html"><a href="exploring-categorical-variables.html#explore-categorical"><i class="fa fa-check"></i><b>21.1</b> Understanding categorical variables</a><ul>
<li class="chapter" data-level="21.1.1" data-path="exploring-categorical-variables.html"><a href="exploring-categorical-variables.html#numerical-summaries"><i class="fa fa-check"></i><b>21.1.1</b> Numerical summaries</a></li>
</ul></li>
<li class="chapter" data-level="21.2" data-path="exploring-categorical-variables.html"><a href="exploring-categorical-variables.html#graphical-summaries-of-categorical-variables"><i class="fa fa-check"></i><b>21.2</b> Graphical summaries of categorical variables</a></li>
</ul></li>
<li class="chapter" data-level="22" data-path="relationships-between-two-variables.html"><a href="relationships-between-two-variables.html"><i class="fa fa-check"></i><b>22</b> Relationships between two variables</a><ul>
<li class="chapter" data-level="22.1" data-path="relationships-between-two-variables.html"><a href="relationships-between-two-variables.html#numeric"><i class="fa fa-check"></i><b>22.1</b> Associations between numeric variables</a><ul>
<li class="chapter" data-level="22.1.1" data-path="relationships-between-two-variables.html"><a href="relationships-between-two-variables.html#descriptive-statistics-1"><i class="fa fa-check"></i><b>22.1.1</b> Descriptive statistics</a></li>
<li class="chapter" data-level="22.1.2" data-path="relationships-between-two-variables.html"><a href="relationships-between-two-variables.html#graphical-summaries-1"><i class="fa fa-check"></i><b>22.1.2</b> Graphical summaries</a></li>
</ul></li>
<li class="chapter" data-level="22.2" data-path="relationships-between-two-variables.html"><a href="relationships-between-two-variables.html#categorical"><i class="fa fa-check"></i><b>22.2</b> Associations between categorical variables</a><ul>
<li class="chapter" data-level="22.2.1" data-path="relationships-between-two-variables.html"><a href="relationships-between-two-variables.html#numerical-summaries-1"><i class="fa fa-check"></i><b>22.2.1</b> Numerical summaries</a></li>
<li class="chapter" data-level="22.2.2" data-path="relationships-between-two-variables.html"><a href="relationships-between-two-variables.html#graphical-summaries-2"><i class="fa fa-check"></i><b>22.2.2</b> Graphical summaries</a></li>
</ul></li>
<li class="chapter" data-level="22.3" data-path="relationships-between-two-variables.html"><a href="relationships-between-two-variables.html#categorical"><i class="fa fa-check"></i><b>22.3</b> Categorical-numerical associations</a><ul>
<li class="chapter" data-level="22.3.1" data-path="relationships-between-two-variables.html"><a href="relationships-between-two-variables.html#descriptive-statistics-2"><i class="fa fa-check"></i><b>22.3.1</b> Descriptive statistics</a></li>
<li class="chapter" data-level="22.3.2" data-path="relationships-between-two-variables.html"><a href="relationships-between-two-variables.html#graphical-summaries-3"><i class="fa fa-check"></i><b>22.3.2</b> Graphical summaries</a></li>
<li class="chapter" data-level="22.3.3" data-path="relationships-between-two-variables.html"><a href="relationships-between-two-variables.html#alternatives-to-box-and-whiskers-plots"><i class="fa fa-check"></i><b>22.3.3</b> Alternatives to box and whiskers plots</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="23" data-path="building-in-complexity.html"><a href="building-in-complexity.html"><i class="fa fa-check"></i><b>23</b> Building in complexity</a><ul>
<li class="chapter" data-level="23.1" data-path="building-in-complexity.html"><a href="building-in-complexity.html#multivariate"><i class="fa fa-check"></i><b>23.1</b> Multivariate relationships</a></li>
<li class="chapter" data-level="23.2" data-path="building-in-complexity.html"><a href="building-in-complexity.html#summaries"><i class="fa fa-check"></i><b>23.2</b> Comparing descriptive statistics</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">APS 135: Introduction to Exploratory Data Analysis with R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="working-with-observations" class="section level1">
<h1><span class="header-section-number">Chapter 13</span> Working with observations</h1>
<div id="introduction-6" class="section level2">
<h2><span class="header-section-number">13.1</span> Introduction</h2>
<p>This chapter will explore the <code>filter</code> and <code>arrange</code> verbs. These are discussed together because they are used to manipulate observations (i.e. rows) of a data frame or tibble:</p>
<ul>
<li><p>The <code>filter</code> function extracts a subset of observations based on supplied conditions involving the variables in our data.</p></li>
<li><p>The <code>arrange</code> function reorders the rows according to the values in one or more variables.</p></li>
</ul>
<div id="getting-ready-1" class="section level3">
<h3><span class="header-section-number">13.1.1</span> Getting ready</h3>
<p>We should start a new script by loading and attaching the <strong>dplyr</strong> package:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(<span class="st">&quot;dplyr&quot;</span>)</code></pre></div>
<p>We’re going to use the <code>storms</code> data set in the <strong>nasaweather</strong> package this time. This means we need to load and attach the <strong>nasaweather</strong> package to make <code>storms</code> available:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(<span class="st">&quot;nasaweather&quot;</span>)</code></pre></div>
<p>The <code>storms</code> data set is an ordinary data frame, so let’s convert it to a tibble so that it prints nicely:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">storms_tbl &lt;-<span class="st"> </span><span class="kw">tbl_df</span>(storms)</code></pre></div>
</div>
</div>
<div id="subset-observations-with-filter" class="section level2">
<h2><span class="header-section-number">13.2</span> Subset observations with <code>filter</code></h2>
<p>We use <code>filter</code> to <strong>subset observations</strong> in a data frame or tibble containing our data. This is often done when we want to limit an analysis to a subset of observations. Basic usage of <code>filter</code> looks something like this:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">filter</span>(data_set, <span class="op">&lt;</span>expression1<span class="op">&gt;</span>, <span class="op">&lt;</span>expression1<span class="op">&gt;</span>, ...)</code></pre></div>
<p>Remember, this is pseudo code (it’s not an example we can run). The first argument, <code>data_set</code>, must the name of the object containing our data. We then include one or more additional arguments, where each of these is a valid R expression involving one or more variables in <code>data_set</code>. Each expression must return a logical vector. We’ve expressed these as <code>&lt;expression1&gt;, &lt;expression2&gt;, ...</code>, where <code>&lt;expression1&gt;</code> and <code>&lt;expression2&gt;</code> represent the first two expressions, and the <code>...</code> is acting as placeholder for the remaining expressions.</p>
<p>To see how <code>filter</code> works in action, we’ll use it to subset observations in the <code>storms_tbl</code> dataset, based on two relational criteria:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">filter</span>(storms_tbl, pressure <span class="op">&lt;=</span><span class="st"> </span><span class="dv">960</span>, wind <span class="op">&gt;=</span><span class="st"> </span><span class="dv">100</span>)</code></pre></div>
<pre><code>## # A tibble: 199 x 11
##     name  year month   day  hour   lat  long pressure  wind      type
##    &lt;chr&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;dbl&gt; &lt;dbl&gt;    &lt;int&gt; &lt;int&gt;     &lt;chr&gt;
##  1 Felix  1995     8    12     0  22.1 -57.8      955   100 Hurricane
##  2 Felix  1995     8    12     6  22.9 -59.0      943   110 Hurricane
##  3 Felix  1995     8    12    12  23.6 -60.2      932   115 Hurricane
##  4 Felix  1995     8    12    18  24.3 -61.0      929   120 Hurricane
##  5 Felix  1995     8    13     0  25.1 -61.6      930   115 Hurricane
##  6 Felix  1995     8    13     6  25.9 -61.9      937   105 Hurricane
##  7 Felix  1995     8    13    12  26.6 -62.3      942   100 Hurricane
##  8  Luis  1995     9     1     6  15.8 -42.6      958   105 Hurricane
##  9  Luis  1995     9     1    12  16.2 -43.6      950   115 Hurricane
## 10  Luis  1995     9     1    18  16.5 -44.7      948   115 Hurricane
## # ... with 189 more rows, and 1 more variables: seasday &lt;int&gt;</code></pre>
<p>In this example we’ve created a subset of <code>storms_tbl</code> that only includes observations where the <code>pressure</code> variable is less than or equal to 960 and the <code>wind</code> variable is greater than or equal to 100. Both conditions must be met for an observation to be included in the resulting tibble. The conditions are not combined as an either/or operation.</p>
<p>This is probably starting to become repetitious, but there are a few features of <code>filter</code> that we should note:</p>
<ul>
<li><p>Each expression that performs a comparison is not surrounded by quotes. This makes sense, because the expression is meant to be evaluated to return a logical vector – it is not “a value”.</p></li>
<li><p>As usual, the result produced by <code>mutate</code> in our example was printed to the Console. The <code>mutate</code> function did not change the original <code>storms_tbl</code> in any way (no side effects!).</p></li>
<li><p>The <code>filter</code> function will return the same kind of data object it is working on: it returns a data frame if our data was originally in a data frame, and a tibble if it was a tibble.</p></li>
</ul>
<p>We can achieve the same result as the above example in a different way. This involves the <code>&amp;</code> operator:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">filter</span>(storms_tbl, pressure <span class="op">&lt;=</span><span class="st"> </span><span class="dv">960</span> <span class="op">&amp;</span><span class="st"> </span>wind <span class="op">&gt;=</span><span class="st"> </span><span class="dv">100</span>)</code></pre></div>
<pre><code>## # A tibble: 199 x 11
##     name  year month   day  hour   lat  long pressure  wind      type
##    &lt;chr&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;dbl&gt; &lt;dbl&gt;    &lt;int&gt; &lt;int&gt;     &lt;chr&gt;
##  1 Felix  1995     8    12     0  22.1 -57.8      955   100 Hurricane
##  2 Felix  1995     8    12     6  22.9 -59.0      943   110 Hurricane
##  3 Felix  1995     8    12    12  23.6 -60.2      932   115 Hurricane
##  4 Felix  1995     8    12    18  24.3 -61.0      929   120 Hurricane
##  5 Felix  1995     8    13     0  25.1 -61.6      930   115 Hurricane
##  6 Felix  1995     8    13     6  25.9 -61.9      937   105 Hurricane
##  7 Felix  1995     8    13    12  26.6 -62.3      942   100 Hurricane
##  8  Luis  1995     9     1     6  15.8 -42.6      958   105 Hurricane
##  9  Luis  1995     9     1    12  16.2 -43.6      950   115 Hurricane
## 10  Luis  1995     9     1    18  16.5 -44.7      948   115 Hurricane
## # ... with 189 more rows, and 1 more variables: seasday &lt;int&gt;</code></pre>
<p>Once again, we created a subset of <code>storms_tbl</code> that only includes observation where the <code>pressure</code> variable is less than or equal to 960 <em>and</em> the <code>wind</code> variable is greater than or equal to 100. However, rather than supplying <code>pressure &lt;= 960</code> and <code>wind &gt;= 100</code> as two arguments, we used a single R expression, combining them with the <code>&amp;</code>. We’re pointing this out because we sometimes need to subset on an either/or basis, and in those cases we have to use this second approach. For example:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">filter</span>(storms_tbl, pressure <span class="op">&lt;=</span><span class="st"> </span><span class="dv">960</span> <span class="op">|</span><span class="st"> </span>wind <span class="op">&gt;=</span><span class="st"> </span><span class="dv">100</span>)</code></pre></div>
<pre><code>## # A tibble: 266 x 11
##     name  year month   day  hour   lat  long pressure  wind      type
##    &lt;chr&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;dbl&gt; &lt;dbl&gt;    &lt;int&gt; &lt;int&gt;     &lt;chr&gt;
##  1 Felix  1995     8    12     0  22.1 -57.8      955   100 Hurricane
##  2 Felix  1995     8    12     6  22.9 -59.0      943   110 Hurricane
##  3 Felix  1995     8    12    12  23.6 -60.2      932   115 Hurricane
##  4 Felix  1995     8    12    18  24.3 -61.0      929   120 Hurricane
##  5 Felix  1995     8    13     0  25.1 -61.6      930   115 Hurricane
##  6 Felix  1995     8    13     6  25.9 -61.9      937   105 Hurricane
##  7 Felix  1995     8    13    12  26.6 -62.3      942   100 Hurricane
##  8 Felix  1995     8    13    18  27.4 -62.3      947    95 Hurricane
##  9 Felix  1995     8    14     0  28.2 -62.5      948    90 Hurricane
## 10 Felix  1995     8    14     6  29.0 -62.9      954    80 Hurricane
## # ... with 256 more rows, and 1 more variables: seasday &lt;int&gt;</code></pre>
<p>This creates a subset of <code>storms_tbl</code> that only includes observation where the <code>pressure</code> variable is less than or equal to 960 <em>or</em> the <code>wind</code> variable is greater than or equal to 100.</p>
<p>We’re also not restricted to using some combination of relational operators such as <code>==</code>, <code>&gt;=</code> or <code>!=</code> when working with <code>filter</code>. The conditions specified in the <code>filter</code> function can be any expression that returns a logical vector. The only constraint is that the length of this logical vector has to equal the length of its input vectors.</p>
<p>Here’s an example. The group membership <code>%in%</code> operator (part of base R, not <code>dplyr</code>) is used to determine whether the values in one vector occurs among the values in a second vector. It’s used like this: <code>vec1 %in% vec2</code>. This returns a vector where the values are <code>TRUE</code> if an element of <code>vec1</code> is in <code>vec2</code>, and <code>FALSE</code> otherwise. We can use the <code>%in%</code> operator with <code>filter</code> to select to subset rows by the values of one or more variables:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">sub_storms_tbl &lt;-<span class="st"> </span><span class="kw">filter</span>(storms_tbl, name <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Roxanne&quot;</span>, <span class="st">&quot;Marilyn&quot;</span>, <span class="st">&quot;Dolly&quot;</span>))
<span class="co"># print the output</span>
sub_storms_tbl <span class="op">$</span><span class="st"> </span>name</code></pre></div>
<pre><code>##   [1] &quot;Marilyn&quot; &quot;Marilyn&quot; &quot;Marilyn&quot; &quot;Marilyn&quot; &quot;Marilyn&quot; &quot;Marilyn&quot; &quot;Marilyn&quot;
##   [8] &quot;Marilyn&quot; &quot;Marilyn&quot; &quot;Marilyn&quot; &quot;Marilyn&quot; &quot;Marilyn&quot; &quot;Marilyn&quot; &quot;Marilyn&quot;
##  [15] &quot;Marilyn&quot; &quot;Marilyn&quot; &quot;Marilyn&quot; &quot;Marilyn&quot; &quot;Marilyn&quot; &quot;Marilyn&quot; &quot;Marilyn&quot;
##  [22] &quot;Marilyn&quot; &quot;Marilyn&quot; &quot;Marilyn&quot; &quot;Marilyn&quot; &quot;Marilyn&quot; &quot;Marilyn&quot; &quot;Marilyn&quot;
##  [29] &quot;Marilyn&quot; &quot;Marilyn&quot; &quot;Marilyn&quot; &quot;Marilyn&quot; &quot;Marilyn&quot; &quot;Marilyn&quot; &quot;Marilyn&quot;
##  [36] &quot;Marilyn&quot; &quot;Marilyn&quot; &quot;Marilyn&quot; &quot;Marilyn&quot; &quot;Marilyn&quot; &quot;Marilyn&quot; &quot;Marilyn&quot;
##  [43] &quot;Marilyn&quot; &quot;Marilyn&quot; &quot;Marilyn&quot; &quot;Marilyn&quot; &quot;Marilyn&quot; &quot;Marilyn&quot; &quot;Marilyn&quot;
##  [50] &quot;Marilyn&quot; &quot;Marilyn&quot; &quot;Marilyn&quot; &quot;Marilyn&quot; &quot;Marilyn&quot; &quot;Marilyn&quot; &quot;Marilyn&quot;
##  [57] &quot;Marilyn&quot; &quot;Marilyn&quot; &quot;Marilyn&quot; &quot;Marilyn&quot; &quot;Marilyn&quot; &quot;Marilyn&quot; &quot;Marilyn&quot;
##  [64] &quot;Marilyn&quot; &quot;Marilyn&quot; &quot;Marilyn&quot; &quot;Marilyn&quot; &quot;Marilyn&quot; &quot;Marilyn&quot; &quot;Marilyn&quot;
##  [71] &quot;Marilyn&quot; &quot;Marilyn&quot; &quot;Marilyn&quot; &quot;Marilyn&quot; &quot;Marilyn&quot; &quot;Marilyn&quot; &quot;Marilyn&quot;
##  [78] &quot;Roxanne&quot; &quot;Roxanne&quot; &quot;Roxanne&quot; &quot;Roxanne&quot; &quot;Roxanne&quot; &quot;Roxanne&quot; &quot;Roxanne&quot;
##  [85] &quot;Roxanne&quot; &quot;Roxanne&quot; &quot;Roxanne&quot; &quot;Roxanne&quot; &quot;Roxanne&quot; &quot;Roxanne&quot; &quot;Roxanne&quot;
##  [92] &quot;Roxanne&quot; &quot;Roxanne&quot; &quot;Roxanne&quot; &quot;Roxanne&quot; &quot;Roxanne&quot; &quot;Roxanne&quot; &quot;Roxanne&quot;
##  [99] &quot;Roxanne&quot; &quot;Roxanne&quot; &quot;Roxanne&quot; &quot;Roxanne&quot; &quot;Roxanne&quot; &quot;Roxanne&quot; &quot;Roxanne&quot;
## [106] &quot;Roxanne&quot; &quot;Roxanne&quot; &quot;Roxanne&quot; &quot;Roxanne&quot; &quot;Roxanne&quot; &quot;Roxanne&quot; &quot;Roxanne&quot;
## [113] &quot;Roxanne&quot; &quot;Roxanne&quot; &quot;Roxanne&quot; &quot;Roxanne&quot; &quot;Roxanne&quot; &quot;Roxanne&quot; &quot;Roxanne&quot;
## [120] &quot;Roxanne&quot; &quot;Roxanne&quot; &quot;Roxanne&quot; &quot;Roxanne&quot; &quot;Roxanne&quot; &quot;Roxanne&quot; &quot;Roxanne&quot;
## [127] &quot;Roxanne&quot; &quot;Roxanne&quot; &quot;Roxanne&quot; &quot;Roxanne&quot; &quot;Roxanne&quot; &quot;Dolly&quot;   &quot;Dolly&quot;  
## [134] &quot;Dolly&quot;   &quot;Dolly&quot;   &quot;Dolly&quot;   &quot;Dolly&quot;   &quot;Dolly&quot;   &quot;Dolly&quot;   &quot;Dolly&quot;  
## [141] &quot;Dolly&quot;   &quot;Dolly&quot;   &quot;Dolly&quot;   &quot;Dolly&quot;   &quot;Dolly&quot;   &quot;Dolly&quot;   &quot;Dolly&quot;  
## [148] &quot;Dolly&quot;   &quot;Dolly&quot;   &quot;Dolly&quot;   &quot;Dolly&quot;   &quot;Dolly&quot;   &quot;Dolly&quot;   &quot;Dolly&quot;  
## [155] &quot;Dolly&quot;</code></pre>
</div>
<div id="reording-observations-with-arrange" class="section level2">
<h2><span class="header-section-number">13.3</span> Reording observations with <code>arrange</code></h2>
<p>We use <code>arrange</code> to <strong>reorder the rows</strong> of an object containing our data. This is sometimes used when we want to inspect a dataset to look for associations among the different variables. This is hard to do if they are not ordered. Basic usage of <code>arrange</code> looks like this:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">arrange</span>(data_set, vname1, vname2, ...)</code></pre></div>
<p>Yes, this is pseudo-code. As always, the first argument, <code>data_set</code>, is the name of the object containing our data. We then include a series of one or more additional arguments, where each of these should be the name of a variable in <code>data_set</code>: <code>vname1</code> and <code>vname2</code> are names of the first two ordering variables, and the <code>...</code> is acting as placeholder for the remaining variables.</p>
<p>To see <code>arrange</code> in action, let’s construct a new version of <code>storms_tbl</code> where the rows have been reordered first by <code>wind</code>, and then by <code>pressure</code>:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">arrange</span>(storms_tbl, wind, pressure)</code></pre></div>
<pre><code>## # A tibble: 2,747 x 11
##       name  year month   day  hour   lat  long pressure  wind
##      &lt;chr&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;dbl&gt; &lt;dbl&gt;    &lt;int&gt; &lt;int&gt;
##  1    Fran  1996     9     9    12  45.7 -72.3     1006    15
##  2    Fran  1996     9     9    18  46.0 -71.1     1008    15
##  3    Fran  1996     9    10     0  46.7 -70.0     1010    15
##  4 Frances  1998     9    13     6  31.7 -96.9     1002    20
##  5    Dean  1995     7    31    18  30.5 -96.5     1003    20
##  6    Erin  1995     8     4    12  33.2 -89.7     1003    20
##  7    Erin  1995     8     4    18  34.1 -90.2     1003    20
##  8    Erin  1995     8     5     0  34.8 -90.2     1003    20
##  9    Erin  1995     8     5     6  35.4 -90.1     1003    20
## 10    Erin  1995     8     5    12  36.3 -89.8     1003    20
## # ... with 2,737 more rows, and 2 more variables: type &lt;chr&gt;,
## #   seasday &lt;int&gt;</code></pre>
<p>This creates a new version of <code>storms_tbl</code> where the rows are sorted according to the values of <code>wind</code> and <code>pressure</code> in ascending order – i.e. from smallest to largest. Since <code>wind</code> appears before <code>pressure</code> among the arguments, the values of <code>pressure</code> are only used to break ties within any particular value of <code>wind</code>.</p>
<p>For the sake of avoiding any doubt about how <code>arrange</code> works, let’s quickly review its behaviour:</p>
<ul>
<li><p>The variable names used as arguments of <code>arrange</code> are not surrounded by quotes.</p></li>
<li><p>The <code>arrange</code> function did not change the original <code>iris_tbl</code> in any way.</p></li>
<li><p>The <code>arrange</code> function will return the same kind of data object it is working on.</p></li>
</ul>
<p>There isn’t much else we need to to learn about <code>arrange</code>. By default, it sorts variables in ascending order. If we need it to sort a variable in descending order, we wrap the variable name in the <code>desc</code> function:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">arrange</span>(storms_tbl, wind, <span class="kw">desc</span>(pressure))</code></pre></div>
<pre><code>## # A tibble: 2,747 x 11
##       name  year month   day  hour   lat  long pressure  wind
##      &lt;chr&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;dbl&gt; &lt;dbl&gt;    &lt;int&gt; &lt;int&gt;
##  1    Fran  1996     9    10     0  46.7 -70.0     1010    15
##  2    Fran  1996     9     9    18  46.0 -71.1     1008    15
##  3    Fran  1996     9     9    12  45.7 -72.3     1006    15
##  4   Barry  1995     7     5     6  32.0 -72.0     1019    20
##  5   Barry  1995     7     5    12  32.0 -72.0     1019    20
##  6   Barry  1995     7     5    18  31.9 -72.0     1018    20
##  7 Marilyn  1995     9    30    12  34.6 -49.3     1016    20
##  8 Marilyn  1995     9    30    18  34.7 -50.0     1016    20
##  9 Marilyn  1995    10     1     0  34.8 -50.5     1016    20
## 10 Marilyn  1995    10     1     6  35.0 -51.0     1016    20
## # ... with 2,737 more rows, and 2 more variables: type &lt;chr&gt;,
## #   seasday &lt;int&gt;</code></pre>
<p>This creates a new version of <code>storms_tbl</code> where the rows are sorted according to the values of <code>wind</code> and <code>pressure</code>, in ascending and descending order, respectively.</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="working-with-variables.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="helper-functions.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/dzchilds/eda-for-bio/edit/master/2_05_dplyr_observations.Rmd",
"text": "Edit"
},
"download": null,
"toc": {
"collapse": "section"
},
"split_by": "section"
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(script.src))
      script.src  = script.src.replace(/^https?:/, '');
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
